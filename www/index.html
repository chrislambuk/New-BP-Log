<!DOCTYPE html>

<html>

<head>
    <meta charset="utf-8" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="msapplication-tap-highlight" content="no" />
    <meta name="viewport"
        content="viewport-fit=cover, initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width" />
    <meta http-equiv="Content-Security-Policy"
        content="default-src * 'unsafe-inline'; style-src 'self' 'unsafe-inline'; media-src *; img-src 'self' data: *" />
    <link rel="stylesheet" href="css/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="css/style.css" />
    <link rel="stylesheet" href="css/animate.min.css">
    <script src="js/Chart.min.js"></script>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.js"></script> -->
    <title>Blood Pressure Log</title>
</head>

<body class="white">
    <main class="container grey-text text-darken-4">
        <div>
            <!-- title -->
            <div id="title">
                <h6 class="center">Blood Pressure Log</h6>
            </div>
            <!-- inputs -->
            <form id="form-list">
                <div class="row">
                    <div class="col s6">
                        <label for="sys">SYS mmHg</label>
                        <input class="grey-text text-darken-4" inputmode="numeric" pattern="[0-9]*" type="text"
                            placeholder="Input" id="sys" />
                    </div>
                    <div class="col s6">
                        <label for="dia">DIA mmHg</label>
                        <input class="grey-text text-darken-4" type="text" inputmode="numeric" pattern="[0-9]*"
                            placeholder="Input" id="dia" />
                    </div>
                </div>
                <div class="center">
                    <button type="submit" class="btn red waves-effect waves-light">+</button>
                </div>
            </form>
            <!-- chart -->
            <canvas class="center" id="myChart" width="320" height="150"></canvas>
            <!-- averages -->
            <div class="row grey-text text-darken-4">
                <div class="col s6">
                    <small>Average</small>
                    <h5>SYS: <span id="total1"></span></h5>
                </div>
                <div class="col s6">
                    <small>Average</small>
                    <h5>DIA: <span id="total2"></span></h5>
                </div>
            </div>
        </div>
        <!-- table -->
        <div class="inputData">
            <div class="row">
                <div class="col s12">
                    <table class="blue-grey lighten-5 black-text">
                        <thead class="grey-text text-darken-3">
                            <tr class="blue-grey lighten-4">
                                <th></th>
                                <th>SYS <small>[mmHg]</small></th>
                                <th>DIA <small>[mmHg]</small></th>
                                <th>Del</th>
                            </tr>
                        </thead>
                        <tbody id="item-list">

                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </main>

    <!-- Modal Trigger -->
    <div id='help' class="footer page-footer grey lighten-5 black-text waves-effect waves-dark modal-trigger btn-small"
        href="#modal1">
        Help
    </div>
    <!-- Modal Structure -->
    <div id="modal1" class="modal modal-fixed-footer">
        <div id="helpModal" class="modal-content">
            <h4>How To Use.</h4>
            Enter the SYSTOLIC and DIASTOLIC blood pressure readings from your home monitor. The app will plot the
            values on the graph and calculate the average values and colour code them for you: <br>
            <ul>
                <li class="green-text">Green = Normal</li>
                <li class="orange-text">Orange = Mild</li>
                <li class="red-text">Red = Severe</li>
            </ul>
            <small>Information based on <a
                    href="https://www.who.int/cardiovascular_diseases/guidelines/Chart_predictions/en/">WHO/ISH
                    cardiovascular risk prediction charts</a><br>Please consult your doctor if you have any
                concerns about your blood pressure readings.</small>
            <hr>
            <ul class='center'>
                <a href="https://arqmedia.co.uk/bp-log/"><small>Info</small></a> |
                <a href="https://arqmedia.co.uk/privacy-policy/"><small>Privacy
                        Policy</small></a> |
                <a href="https://arqmedia.co.uk/tcs/"><small>T&Cs</small></a>
            </ul>
        </div>
        <div class="modal-footer">
            <span href="#!" class="modal-close waves-effect waves-red btn-flat right">Close</span>
        </div>
    </div>
    <script type="text/javascript" src="cordova.js"></script>
    <script type="text/javascript" src="js/index.js"></script>
    <script type="text/javascript" src="js/jquery-3.4.1.min.js"></script>
    <script type="text/javascript" src="js/materialize.min.js"></script>
    <script>
        $(document).ready(function () {
            $('.modal').modal();
        });
    </script>
    <script>
        // chart =================
        var ctx = document.getElementById('myChart').getContext('2d');
        let dataSYS;
        let dataDIA;
        let items;

        var chart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: [
                    '1',
                    '2',
                    '3',
                    '4',
                    '5',
                    '6',
                    '7',
                    '8',
                    '9',
                    '10',
                    '11',
                    '12',
                    '13',
                    '14'
                ],
                datasets: [{
                        label: 'SYS',
                        data: dataSYS,
                        backgroundColor: [
                            'RGBA(97, 125, 138, 0.95)',
                            'RGBA(97, 125, 138, 0.95)',
                            'RGBA(97, 125, 138, 0.95)',
                            'RGBA(97, 125, 138, 0.95)',
                            'RGBA(97, 125, 138, 0.95)',
                            'RGBA(97, 125, 138, 0.95)',
                            'RGBA(97, 125, 138, 0.95)',
                            'RGBA(97, 125, 138, 0.95)',
                            'RGBA(97, 125, 138, 0.95)',
                            'RGBA(97, 125, 138, 0.95)',
                            'RGBA(97, 125, 138, 0.95)',
                            'RGBA(97, 125, 138, 0.95)',
                            'RGBA(97, 125, 138, 0.95)',
                            'RGBA(97, 125, 138, 0.95)'
                        ],
                        borderColor: [
                            'rgba(0, 0, 0, 0.3)',
                            'rgba(0, 0, 0, 0.3)',
                            'rgba(0, 0, 0, 0.3)',
                            'rgba(0, 0, 0, 0.3)',
                            'rgba(0, 0, 0, 0.3)',
                            'rgba(0, 0, 0, 0.3)',
                            'rgba(0, 0, 0, 0.3)',
                            'rgba(0, 0, 0, 0.3)',
                            'rgba(0, 0, 0, 0.3)',
                            'rgba(0, 0, 0, 0.3)',
                            'rgba(0, 0, 0, 0.3)',
                            'rgba(0, 0, 0, 0.3)',
                            'rgba(0, 0, 0, 0.3)',
                            'rgba(0, 0, 0, 0.3)'
                        ],
                        borderWidth: 1
                    },
                    {
                        label: 'DIA',
                        data: dataDIA,
                        backgroundColor: [
                            'RGBA(252, 236, 84, 0.95)',
                            'RGBA(252, 236, 84, 0.95)',
                            'RGBA(252, 236, 84, 0.95)',
                            'RGBA(252, 236, 84, 0.95)',
                            'RGBA(252, 236, 84, 0.95)',
                            'RGBA(252, 236, 84, 0.95)',
                            'RGBA(252, 236, 84, 0.95)',
                            'RGBA(252, 236, 84, 0.95)',
                            'RGBA(252, 236, 84, 0.95)',
                            'RGBA(252, 236, 84, 0.95)',
                            'RGBA(252, 236, 84, 0.95)',
                            'RGBA(252, 236, 84, 0.95)',
                            'RGBA(252, 236, 84, 0.95)',
                            'RGBA(252, 236, 84, 0.95)'
                        ],
                        borderColor: [
                            'rgba(0, 0, 0, 0.3)',
                            'rgba(0, 0, 0, 0.3)',
                            'rgba(0, 0, 0, 0.3)',
                            'rgba(0, 0, 0, 0.3)',
                            'rgba(0, 0, 0, 0.3)',
                            'rgba(0, 0, 0, 0.3)',
                            'rgba(0, 0, 0, 0.3)',
                            'rgba(0, 0, 0, 0.3)',
                            'rgba(0, 0, 0, 0.3)',
                            'rgba(0, 0, 0, 0.3)',
                            'rgba(0, 0, 0, 0.3)',
                            'rgba(0, 0, 0, 0.3)',
                            'rgba(0, 0, 0, 0.3)',
                            'rgba(0, 0, 0, 0.3)'
                        ],
                        borderWidth: 1
                    }
                ]
            },
            options: {
                scales: {
                    yAxes: [{
                        ticks: {
                            min: 50,
                            max: 200,
                            stepSize: 25
                        }
                    }]
                }
            }
        });
    </script>

</body>

</html>